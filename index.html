<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SleekDB</title>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono|Product+Sans:300,400,700" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/assets/app.css">
  <link rel="stylesheet" href="/assets/highlighter/styles/foundation.css">
  <script src="/assets/highlighter/highlight.pack.js"></script>
</head>
<body>
  <div class="header-wrapper">
    <div id="header" class="header">
      <div class="logo"><h1><a href="/">SleekDB</a></h1></div>
      <div class="menu">
        <a class="link" id="doc_link" href="">Documentaion</a> <span class="link">&bull;</span> 
        <a class="link" href="">Tutorial</a> <span class="link">&bull;</span> 
        <a class="link" href="">GitHub</a>
      </div>
    </div>
    <div class="docs_menu_wrapper">
      <div id="docs_menu_container" class="dn">
        <a href="">Features</a>
        <a href="">Install and Use</a>
        <a href="">Configurations</a>
        <a href="">Understanding Store</a>
        <a href="">The Database Object</a>
        <a href="">Insert Data</a>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="intro">
      <h3>SleekDB - A NoSQL Database made using PHP</h3>
      <p>SleekDB is a simple NoSQL database that store data in JSON files.</p>
      <p>
        Intentionally SleekDB is not desgined for heavy-load IO operations, it is desgined to have 
        a simple solution where we need a database for managing small amount of data!
      </p>
    </div>
    <div class="intro features-block">
      <h1><span class="black-badge">Features</span></h1>
      <div class="two-panel">
        <div class="panel-block">

          <div class="list-block">
            <div class="list-icon"><span class="bullet-box"></span></div>
            <div class="list-block-content">
              <div class="list-block-header">
                Light-weight, only ~30Kb.
              </div>
              <div class="list-block-body">
                Stores data in plaintext utilizing JSON format, <br/>no binary conversion needed to store or fetch the data.                
              </div>
            </div>
          </div>

          <div class="list-block">
            <div class="list-icon"><span class="bullet-box"></span></div>
            <div class="list-block-content">
              <div class="list-block-header">
                Schema free data storage.
              </div>
              <div class="list-block-body">
                SleekDB does not require any schema <br/>
                meaning you can insert any types of data you want.
              </div>
            </div>
          </div>

          <div class="list-block">
            <div class="list-icon"><span class="bullet-box"></span></div>
            <div class="list-block-content">
              <div class="list-block-header">
                Supports unlimited nested JSON properties.
              </div>
              <div class="list-block-body">
                Data will be stored in a JSON document, <br/>
                use conditions to filter data of any depth!
              </div>
            </div>
          </div>

          <div class="list-block">
            <div class="list-icon"><span class="bullet-box"></span></div>
            <div class="list-block-content">
              <div class="list-block-header">
                Dependency free, only requires PHP to run.
              </div>
              <div class="list-block-body">
                Supports PHP 5.5+, PHP 7+<br/>
                Requires no third-party plugins or softwares.
              </div>
            </div>
          </div>
          
        </div>
        <div class="panel-block">
          <div class="list-block">
            <div class="list-icon"><span class="bullet-box"></span></div>
            <div class="list-block-content">
              <div class="list-block-header">
                  Default caching layer.
              </div>
              <div class="list-block-body">
                  SleekDB will serve data from cache by default 
                  <br/>and regenerate cache each time it creates an object!
              </div>
            </div>
          </div>

          <div class="list-block">
            <div class="list-icon"><span class="bullet-box"></span></div>
            <div class="list-block-content">
              <div class="list-block-header">
                Filter, sort, skip, limit and search.
              </div>
              <div class="list-block-body">
                Use multiple conditional comparisons, text search, <br/>sorting 
                on multiple properties and nested properties.
              </div>
            </div>
          </div>

          <div class="list-block">
            <div class="list-icon"><span class="bullet-box"></span></div>
            <div class="list-block-content">
              <div class="list-block-header">
                Runs every where.
              </div>
              <div class="list-block-body">
                Runs perfectly on shared-servers or VPS too.
              </div>
            </div>
          </div>

          <div class="list-block">
            <div class="list-icon"><span class="bullet-box"></span></div>
            <div class="list-block-content">
              <div class="list-block-header">
                Easy to learn and implement.
              </div>
              <div class="list-block-body">
                SleekDB provides a very simple elegant <br/>API to handle all of your data.
              </div>
            </div>
          </div>

          <div class="list-block">
            <div class="list-icon"><span class="bullet-box"></span></div>
            <div class="list-block-content">
              <div class="list-block-header">
                Easily import/expert or backup data.
              </div>
            </div>
          </div>

        </div>
      </div>

    </div>
    <div class="intro">
      <h3><span class="black-badge">How to install and use SleekDB?</span></h3>
      <div class="pt5"></div>
      <p>
        To use SleekDB make sure that you have PHP up and running in your system, and SleekDB has write permission.
      </p>
      <p>
        <strong>Using SleekDB in a PHP project</strong>
      </p>
      <ol>
        <li><a href=" https://github.com/rakibtg/SleekDB/archive/master.zip">Download</a> the latest version and extract the ZIP file inside your project directory.</li>
        <li>
          Import the <span class="red-color">SleekDB.php</span> file where you want to use SleekDB. Example:

<pre>
require_once "../SleekDB/SleekDB.php";
</pre>

        </li>
        <li>
          Create a new SleekDB object. You will need to provide a <span class="red-color">store</span> name while creating the object. Example:
<pre>
$sdb = new SleekDB( "items" );
</pre>
Note that here "items" is a store name, it's like the table name for MySQL. This object is only 
responsible for the "items" store. We could create more than one object for each stores.
        </li>
        <li>
          Time to test! Let's insert some data.
<pre>
// An array that we want to insert.
$items = [
  [
    "title" => "Google Pixel 2",
    "about" => "The unlocked Pixel 2 provides..."  
  ],
  [
    "title" => "Google Pixel XL",
    "about" => "The unlocked biggest Pixel 2..."  
  ]
];
$results = $sdb->insertMany( $items ); 
</pre>
The results variable would countain all the inserted data and with the _id property.
        </li>
      </ol>
      <p>
        <strong>Using SleekDB Independently</strong>
      </p>
      <p>
        SleekDB would have a server that can handle all the data and returns them, works seperately and independently. This feature is not implemented yet.
      </p>
    </div>
    <div class="intro">
      <h3><span class="black-badge">Configurations</span></h3>
      <div class="pt5"></div>
      <p>
        The configuration file "config.php" is located at the root directory of SleekDB. It has has an 
        array called $config with few properties. Lets talk about them.
      </p>
      <p><strong class="red-color">1. storeLocation</strong></p>
      <p>
        You can specify where to store data in the <span class="blue-color">storeLocation</span> property of the $config array. Example:
      </p>
        <pre>
$config[ 'storeLocation' ] = '/home/user/datastore/';
</pre>
      <p><strong class="red-color">2. enableAutoCache</strong></p>
      <p>
        In the $config array the <span class="blue-color">enableAutoCache</span> is set to <span class="red-color">true</span> by default!
      </p>
      <p>
        This tells SleekDB to cache the data of an unique database query and later re-use the cache for the same query.
      </p>
      <p>
        To keep the cached data synced with new data, SleekDB will delete all cache when we insert any new data to a store.
      </p>
      <p>
        To disable it update the value of <span class="blue-color">enableAutoCache</span> to <span class="red-color">false</span> in the $config array.
      </p>
      <p class="note-block">
        Note that you can manually manage cache data with methods that SleekDB provides. Available caching methods's are: <span class="blue-color">makeCache()</span>, <span class="blue-color">useCache()</span>, <span class="blue-color">deleteCache()</span> and <span class="blue-color">deleteAllCache()</span>
      </p>
      <p><strong class="red-color">3. timeOut</strong></p>
      <p>
        Set timeout value, default value is <span class="blue-color">120</span> second.
      </p>
    </div>

    <div class="intro">
      <h3><span class="black-badge">Understanding Store</span></h3>
      <div class="pt5"></div>
      <p>
        The "store" contains all your data as JSON files, we call them data 
        object. While using SleekDB you dont have to manage a store.
      </p>
      <p>
        When you create a new SleekDB object you need to provide a store name, if 
        the store is not exists then SleekDB will create the store for you.
      </p>
      <p>
        At this moment you can not edit/delete a store, but you can do it manually 
        using the File Browser of your OS or using the terminal.
      </p>
    </div>

    <div class="intro">
      <h3><span class="black-badge">The Database Object</span></h3>
      <div class="pt5"></div>
      <p>
        To work with a store we will need to create a new SleekDB object with that store name.
      </p>
      <p>
        Throughout this API documentation we are going to use a store called "users". So lets create the database object.
      </p>
<pre>
$usersDB = new SleekDB( 'users' );
</pre>
    </div>
    

    <div class="intro">
      <h3><span class="black-badge">Insert Data</span></h3>
      <div class="pt5"></div>
      <p>
        To insert data first you make a PHP array, and simply insert that array.
      </p>
      <p>
        <span class="badge">Insert A Single Data Object</span>
      </p>
      <p>
        Using the <span class="red-color">insert()</span> method we will insert a new data object. Example:
<pre>
// Prepare a PHP array to insert.
$user = [
  'name' => 'Kazi Hasan',
  'products' => [
    'totalSaved' => 19,
    'totalBought' => 27
  ],
  'location' => [
    'town' => 'Nagar',
    'city' => 'Dhaka',
    'country' => 'Bangladesh'
  ]
];
// Insert the data.
$user = $usersDB->insert( $user );
</pre>
        Here, the <span class="red-color">insert()</span> method will return the inserted object with the <span class="blue-color">_id</span> property which 
        is generated by SleekDB.
      </p>
      <p>
        <span class="badge">Insert Multiple Data Object</span>
      </p>
      Using the <span class="red-color">insertMany()</span> method you can insert more than one data object at a time, example:
<pre>
// Prepare users data.
$users = [
  [ 
    'name' => 'Russell Newman',
    'products' => [
      'totalSaved' => 5,
      'totalBought' => 3
    ],
    'location' => [
      'town' => 'Andreas Ave',
      'city' => 'Maasdriel',
      'country' => 'England'
    ]
  ],
  [ 
    'name' => 'Willard Bowman',
    'products' => [
      'totalSaved' => 0,
      'totalBought' => 0
    ],
  ],
  [
    'name' => 'Tommy Mendoza',
    'products' => [
      'totalSaved' => 172,
      'totalBought' => 54
    ],
  ],
  [
    'name' => 'Joshua Edwards',
    'phone' => '(382)-450-8197'
  ]
];
// Insert all data.
$usersDB->insertMany( $users );
</pre>
The <span class="red-color">insertMany()</span> method will return the inserted object with the <span class="blue-color">_id</span> property which 
is generated by SleekDB.
    </div>
    

    <div class="intro">
      <h3><span class="black-badge">Fetch Data</span></h3>
      <div class="pt5"></div>
      <p>
        To get data from the store we use the <span class="red-color">fetch()</span> method. Example:
      </p>
<pre>
$usersDB->fetch();
</pre>
      <p>
        The above command would query into the "users" store to fetch all the data.
      </p>
      <p>
        <span class="badge">Apply Filters and Conditions</span>
      </p>
      <p>
        To filter data we use the <span class="red-color">where()</span> method.
      </p>
      <p>
        The <span class="red-color">where()</span> method takes three arguments, those are:
      </p>
<pre>
where( $fieldName, $condition, $value );
</pre>
      <p>
        <ol>
          <li>
            <strong>$fieldName</strong>
            <p>
              The filed name argument is the property that we want to check in our data object.
            </p>
            <p>
                As our data object is basically a JSON document so it could have nested properties.
            </p>
            <p>
              To target nested properties we use a single dot between the property/field name.
            </p>
            <p>
              <strong>Example:</strong> From our above users object if we want to target the "country" property of a user, then we would 
              pass <span class="blue-color">location.country</span> in this argument, beacuse "location" is the parent property of the "country" property in 
              our data object.
            </p>
          </li>
          <li>
            <strong>$condition</strong>
            <p>
              To apply the comparisonal filters we use this argument.
            </p>
            <p>
              Allowed comparisonal conditions are:
              <ul>
                <li>
                  <strong class="blue-color">=</strong> <span class="small-font pl5">Match equal against data.</span>
                </li>
                <li>
                  <strong class="blue-color">!=</strong> <span class="small-font pl5">Match not equal against data.</span>
                </li>
                <li>
                  <strong class="blue-color">></strong> <span class="small-font pl5">Match greater than against data.</span>
                </li>
                <li>
                  <strong class="blue-color">>=</strong> <span class="small-font pl5">Match greater equal against data.</span>
                </li>
                <li>
                  <strong class="blue-color"><</strong> <span class="small-font pl5">Match less than against data.</span>
                </li>
                <li>
                  <strong class="blue-color"><=</strong> <span class="small-font pl5">Match less equal against data.</span>
                </li>
              </ul>
            </p>
          </li>
          <li>
            <strong>$value</strong>
            <p>
              Data to be used as against the property value of the JSON documents.
            </p>
          </li>
        </ol>
      </p>
      <p>
        <strong>Example of using where() to filter data</strong> <br>
        To only get the user whose country is equal to "England" we would query like this:
      </p>
<pre>
$user = $usersDB->where( 'name', '=', 'Joshua Edwards' )->fetch();
</pre> 
      <p>
        You can use multiple <span class="red-color">where()</span> conditions. Example:
      </p>
<pre>
$user = $usersDB->where( 'products.totalSaved', '>', 10 )
          ->where( 'products.totalBought', '>', 20 )
        ->fetch();
</pre>
    </div>
    
    <div class="intro">
      <h3><span class="black-badge">Edit Data</span></h3>
      <div class="pt5"></div>
      <p>
        To edit a data object we would use the <span class="red-color">update()</span> method.
      </p>
      <p>
        The update method takes only one argument.
      </p>
<pre>
update( $updateable );
</pre>
      <p>
        Lets update the "totalBought" value of a user whose name is "Joshua Edwards"
      </p>
<pre>
$updateable = [
  'products' => [
    'totalBought' => 1
  ]
];
$usersDB->where( 'name', '=', 'Joshua Edwards' )->update( $updateable );
</pre>
      <p>
        You can use more than one where condition if required.
      </p>
    </div>
    

    <div class="intro">
      <h3><span class="black-badge">Delete Data</span></h3>
      <div class="pt5"></div>
      <p>
          To delete a data object we would use the <span class="red-color">delete()</span> method. Example:
        </p>
        <p>
          Lets delete the user whose name is "Joshua Edwards"
        </p>
<pre>
$usersDB->where( 'name', '=', 'Joshua Edwards' )->delete();
</pre>
      <p>
        You can use more than one where condition if required.
      </p>
    </div>

    <div class="intro">
      <h3><span class="black-badge">Skip and Limit Data</span></h3>
      <div class="pt5"></div>
      <p>
        To skip a set of record we will use the <span class="red-color">skip()</span> method. Example:
      </p>
<pre>
// Skip the first 5 users.
$users = $usersDB->skip( 5 )->fetch();
</pre>
      <p>
        To limit a set of record we will use the <span class="red-color">limit()</span> method. Example:
      </p>
<pre>
// Fetch only 5 users.
$users = $usersDB->limit( 5 )->fetch();
</pre>
      <p>
        <span class="badge">Query Offset</span>
      </p>
      <p>
        To obtain the query offset feature we can chain <span class="red-color">skip()</span> and <span class="red-color">limit()</span> 
        into one query. Example:
      </p>
<pre>
$users = $usersDB
          ->where( 'age', '>=', 18 )
          ->skip( 15 )
          ->limit( 5 )
        ->fetch();
</pre>
      <p>
        The above query will skip first 15 records and will limit to next 5 records of data objects. This way we can also perform paginate.
      </p>
    </div>
    
    <div class="intro">
      <h3><span class="black-badge">Sort Data</span></h3>
      <div class="pt5"></div>
        <p>
          To sort data objects we would use the <span class="red-color">orderBy()</span> method.
        </p>
        <p>
          The orderBy method takes two argument,
        </p>
<pre>
orderBy( $order, $orderBy );
</pre>
        <p>
          <ol>
            <li>
              <strong>$order</strong> argument receives the order direction, "asc" or "desc".
            </li>
            <li>
              <strong>$orderBy</strong> argument receives the property name on which we want to sort. Default is _id property.
            </li>
          </ol>
        </p>
        <p>
          Lets sort the data based on total items bought by the user.
        </p>
<pre>
$users = $usersDB
          ->orderBy( 'desc', 'products.totalBought' )
          ->limit( 20 )
        ->fetch();
</pre>
    </div>
    
    <div class="intro">
      <h3><span class="black-badge">Search Data</span></h3>
      <div class="pt5"></div>
      <p>
        We can search data using the <span class="red-color">search()</span> method. It utilizes the <a href="http://php.net/manual/en/function.similar-text.php" target="_blank">similar_text()</a> function and 
        works better on medium length string.
      </p>
      <p>
        The search method takes two argument,
      </p>
<pre>
search( $field, $keyword );
</pre>
      <p>
        <ol>
          <li>
            <strong>$field</strong> argument receives the property name on which we want to perform the search.
          </li>
          <li>
            <strong>$keyword</strong> is the search keyword.
          </li>
        </ol>
      </p>
      <p>
        Lets search for users who lives in Canada.
      </p>
<pre>
$users = $usersDB
          ->search( 'location.country', 'Canada' )
        ->fetch();
</pre>
      <p>
        To ensure proper search result we can search more than one property at a time. Example,
      </p>
<pre>
$users = $usersDB
          ->search( 'bio', 'I Love Canada' )
          ->search( 'location.country', 'Canada' )
          ->where( 'active', '=', 1 )
        ->fetch();
</pre>
    </div>
    
    <div class="intro">
      <h3><span class="black-badge">Use Cache</span></h3>
      <div class="pt5"></div>
      <p>
        The <span class="red-color">useCache()</span> method would return the data from the cache storage, if cache dosent exists then it 
        would fetch the result then creates the cache for later use and return the data. Example,
      </p>
<pre>
$user = $usersDB
          ->where( 'active', '=', 1 )
          ->where( 'location.country', '=' 'United States' )
          ->search( 'bio', 'PHP developer' )
          ->search( 'bio', 'SleekDB' )
          ->orderBy( 'desc', 'rank' )
          ->limit( 20 )
          ->useCache() // Use the cache data.
        ->fetch();
</pre>
    </div>

    <div class="intro">
      <h3><span class="black-badge">Re-generate Cache</span></h3>
      <div class="pt5"></div>
      <p>
        To re-generate the cache for a query we would use the <span class="red-color">makeCache()</span> method. 
      </p>
      <p>
        Its more like the 
        <span class="red-color">useCache()</span> method but the only difference is that instead of looking for existing cache data 
        it would replace the old cache by generating a new cache from fresh data fetched. Example,
      </p>
<pre>
$user = $usersDB
          ->search( 'bio', 'SleekDB' )
          ->orderBy( 'desc', 'rank' )
          ->skip( 80 )
          ->limit( 20 )
          ->makeCache() // Re-generate the cache data.
        ->fetch();
</pre>
    </div> 

    <div class="intro">
      <h3><span class="black-badge">Delete Cache</span></h3>
      <div class="pt5"></div>
      <p>
        To delete the cache of a query we would use the <span class="red-color">deleteCache()</span> method. Example,
      </p>
<pre>
$user = $usersDB
          ->search( 'bio', 'SleekDB' )
          ->orderBy( 'desc', 'rank' )
          ->skip( 80 )
          ->limit( 20 )
        ->deleteCache();
</pre>
      <p>
        Note that if you need to get the data please add the <span class="red-color">fetch()</span> method.
      </p>
    </div>

    <div class="intro bb0">
      <h3><span class="black-badge">Delete All Cache</span></h3>
      <div class="pt5"></div>
      <p>
        To delete all cache use the <span class="red-color">deleteAllCache()</span> method. Example,
      </p>
<pre>
$usersDB->deleteAllCache();
</pre>
    </div>

    <div class="contact">
      <div class="contact_label">
        Tweet us your thoughts.
      </div>
      <form action="https://twitter.com/intent/tweet" id="twitter_form" method="get" target="_blank">
        <textarea name="text" id="" rows="6" maxlength="280">

https://sleekdb.github.io/ #SleekDB @rakibtg</textarea>
        <button>Post on Twitter</button>
      </form>
      <div class="contact_dm">
        Or, direct message me on twitter @rakibtg
      </div>
    </div>
    
    <div class="intro">
      <p>
        More info coming soon, have a good day!
      </p>
      <p>
        By <a href="https://twitter.com/rakibtg">@rakibtg</a>
      </p>
    </div>
  </div>
  <script src="/assets/app.js"></script>
</body>
</html>